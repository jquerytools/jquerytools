<%-- :mode=jsp: --%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<c:set var="wrapId" value="${empty wrapId ? 'triggers' : wrapId}"/>
<c:set var="tools" value="all"/>
<%@ include file="../standalone.jsf" %>

<link rel="stylesheet" type="text/css" href="${cdn}${jqt}/css/overlay-apple.css"/>

<style>
<c:set var="css">
/* black version of the overlay. simply uses a different background image */
div.apple_overlay.black {
	background-image:url(${cdn}${jqt}/img/overlay/transparent.png);		
	color:#fff;
}
</c:set>
${css}

div.apple_overlay h2 {
	margin:10px 0 -9px 0;
	font-weight:bold;
	font-size:14px;
}

div.black h2 {
	color:#fff;
}

#${wrapId} {
	margin-top:10px;
	text-align:center;
}

#${wrapId} img {
	background-color:#fff;
	padding:2px;
	border:1px solid #ccc;
	margin:2px 5px;
	cursor:pointer;
	-moz-border-radius:4px;
	-webkit-border-radius:4px;
}
</style>

<c:set var="ie6">
<!--[if lt IE 7]>
<style> 
div.apple_overlay {
	background-image:url(${cdn}${jqt}/img/overlay/overlay_IE6.gif);
	color:#fff;
}

/* default close button positioned on upper right corner */
div.apple_overlay div.close {
	background-image:url(${cdn}${jqt}/img/overlay/overlay_close_IE6.gif);

}	
</style>
<![endif]-->
</c:set>

${ie6}

<!-- trigger elements -->
<div id="${wrapId}">
	<img src="${cdn}${jqt}/img/photos/gustavohouse.jpg" rel="#photo1"/>
	<img src="${cdn}${jqt}/img/photos/alexanderplatz-station.jpg" rel="#photo2"/>
</div>

<c:if test="${empty appleOverlays}">
<c:set var="appleOverlays">
<!-- overlayed element, which is styled with external stylesheet -->
<div class="apple_overlay black" id="photo1">
	<img src="${cdn}${jqt}/img/photos/gustavohouse-medium.jpg" />

	<div class="details">
		<h2>Berlin Gustavohouse</h2>

		<p>
			The Gustavo House in Storkower Strasse. It was built in 1978 and reconstructed in
			1998 by the Spanish artist Gustavo.
		</p>
	</div>
</div>

<div class="apple_overlay" id="photo2">
	<img src="${cdn}${jqt}/img/photos/alexanderplatz-station-medium.jpg" />

	<div class="details">
		<h2>Berlin Alexanderplatz Station</h2>

		<p>
			Berlin Alexanderplatz is a railway station in the Berlin city centre and is one
			of the city's most important interchange points for local public transport.
		</p>
	</div>
</div>
</c:set>
${appleOverlays}
</c:if>

<!-- make all links with the 'rel' attribute open overlays -->
<script>
<c:set var="js">
$(function() {
	$("#${wrapId} img[rel]").overlay({effect: 'apple'});
});
</c:set>

${js}
</script>
